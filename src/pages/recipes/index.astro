---
import BaseLayout from "../../layouts/BaseLayout.astro";
import RecipeContent from "../../components/containers/RecipeCard.astro";
import Container from "../../components/containers/Container.astro";
import Breadcrumb from "../../components/utils/Breadcrumb.astro";
import { getCollection } from 'astro:content';

// Get all recipes
const allRecipes = await getCollection('recipes');
console.log("Found recipes:", allRecipes.length, allRecipes.map(r => r.slug));

const breadcrumbTrail = [
    { label: "Home", url: "/" },
    { label: "Recipes", url: null }, // Current page has no link
];
---

<BaseLayout title="Recipes">
    <main class="relative overflow-hidden">
        <!-- Centered container -->
        <div class="relative mx-auto px-4 sm:px-6 max-w-7xl py-12 md:px-12">
            <!-- Breadcrumb -->
            <Breadcrumb trail={breadcrumbTrail} />

            <!-- Recipe Content -->
            <RecipeContent
                    recipes={allRecipes}
                    title="Recipes"
            />
        </div>
    </main>
</BaseLayout>

